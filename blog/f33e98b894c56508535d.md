---
title: GCEでinode数を拡張した時のコマンドメモ
tags: Bash Linux inode ext4
author: hiroyannnn
slide: false
---


```bash
$ lsblk # デバイス名を確認
$ sudo mkfs.ext4 -m 0 -F -E lazy_itable_init=0,lazy_journal_init=0,discard -i 2048 /dev/sdb # 2048 の数値を小さくすると、inode数が増える
$ sudo mkdir -p /mnt/disks/data1 # 以下マウント設定
$ sudo mount -o discard,defaults /dev/sdb /mnt/disks/data1
$ sudo chmod a+w /mnt/disks/data1
```


```bash
# Diskのサイズを拡張時
$ df -h # 事前確認
$ sudo resize2fs /dev/sda1
$ df -h # 増えていることを確認
```

